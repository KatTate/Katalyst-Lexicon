@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  --color-sidebar: hsl(var(--sidebar));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));

  /* KATALYST TYPOGRAPHY */
  --font-sans: 'Roboto', sans-serif;
  --font-header: 'Montserrat', sans-serif;
  --font-mono: 'Roboto Mono', monospace;
  
  --radius: 0.5rem;

  /* KATALYST SPECIFIC COLORS */
  --color-kat-green: hsl(88 67% 45%);
  --color-kat-charcoal: hsl(86 4% 31%);
  --color-kat-black: hsl(27 6% 23%);
  --color-kat-gray: hsl(235 11% 84%);
  --color-kat-graylight: hsl(220 14% 96%);
  --color-kat-warning: hsl(55 68% 63%);
  --color-kat-basque: hsl(65 71% 25%);
  --color-kat-edamame: hsl(89 15% 59%);
  --color-kat-wheat: hsl(40 36% 77%);
  --color-kat-zeus: hsl(42 10% 61%);
  --color-kat-gauntlet: hsl(300 1% 54%);
  --color-kat-mystical: hsl(270 4% 65%);
}

/* KATALYST THEME MAPPING */
:root {
  /* Core Brand Colors Converted to HSL */
  /* Green: #78BF26 -> 88 67% 45% */
  /* Charcoal: #50534C -> 86 4% 31% */
  /* Black: #3D3936 -> 27 6% 23% */
  /* Gray Light: #F5F6F8 -> 220 14% 96% */
  
  --background: 220 14% 96%; /* kat-graylight */
  --foreground: 86 4% 31%; /* kat-charcoal */

  --card: 0 0% 100%;
  --card-foreground: 86 4% 31%; /* kat-charcoal */

  --popover: 0 0% 100%;
  --popover-foreground: 86 4% 31%;

  --primary: 88 67% 45%; /* kat-green */
  --primary-foreground: 0 0% 100%;

  --secondary: 235 11% 84%; /* kat-gray (used for light backgrounds/borders) */
  --secondary-foreground: 86 4% 31%;

  --muted: 220 14% 93%; /* slightly darker than background */
  --muted-foreground: 300 1% 54%; /* kat-gauntlet */

  --accent: 40 36% 77%; /* kat-wheat */
  --accent-foreground: 27 6% 23%;

  --destructive: 0 84% 60%; /* std-red */
  --destructive-foreground: 0 0% 98%;

  --border: 235 11% 84%; /* kat-gray */
  --input: 235 11% 84%;
  --ring: 88 67% 45%;

  /* Sidebar uses the new palette */
  --sidebar: 0 0% 100%;
  --sidebar-foreground: 86 4% 31%;
  --sidebar-primary: 88 67% 45%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 220 14% 96%; /* kat-graylight */
  --sidebar-accent-foreground: 88 67% 45%;
  --sidebar-border: 235 11% 84%;
  --sidebar-ring: 88 67% 45%;
  
  --radius: 0.5rem; 
}

.dark {
  /* Inverted Palette for Dark Mode (Derived from brand colors but adapted) */
  --background: 27 6% 20%; /* Darker than kat-black */
  --foreground: 220 14% 96%; /* kat-graylight */

  --card: 27 6% 23%; /* kat-black */
  --card-foreground: 220 14% 96%;

  --popover: 27 6% 23%;
  --popover-foreground: 220 14% 96%;

  --primary: 88 67% 45%; /* kat-green (stays same) */
  --primary-foreground: 0 0% 100%;

  --secondary: 86 4% 31%; /* kat-charcoal */
  --secondary-foreground: 220 14% 96%;

  --muted: 86 4% 31%;
  --muted-foreground: 235 11% 84%; /* kat-gray */

  --accent: 65 71% 25%; /* kat-basque */
  --accent-foreground: 220 14% 96%;

  --destructive: 0 62% 30%;
  --destructive-foreground: 0 0% 98%;

  --border: 86 4% 31%;
  --input: 86 4% 31%;
  --ring: 88 67% 45%;

  --sidebar: 27 6% 23%;
  --sidebar-foreground: 220 14% 96%;
  --sidebar-primary: 88 67% 45%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 86 4% 31%;
  --sidebar-accent-foreground: 88 67% 45%;
  --sidebar-border: 86 4% 31%;
  --sidebar-ring: 88 67% 45%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
  h1, h2, h3, h4, h5, h6 {
    @apply font-header font-bold text-foreground tracking-tight;
  }
  
  .text-intro {
    @apply text-lg text-foreground;
  }
  .text-supporting {
    @apply text-sm text-muted-foreground;
  }
  .text-metadata {
    @apply text-xs text-muted-foreground/60;
  }
  .kpi-value {
    @apply text-3xl font-bold font-sans;
  }
}

body,
body *:not([style*="animation"]):not([data-framer-appear]):not([data-framer-exit]) {
  transition-property: background-color, border-color, color;
  transition-duration: 200ms;
  transition-timing-function: ease-in-out;
}

@media (prefers-reduced-motion: reduce) {
  body,
  body * {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
    animation-delay: 0ms !important;
    animation-iteration-count: 1 !important;
  }
}

.dark .prose pre,
.dark .markdown-content pre {
  background-color: hsl(var(--card));
  color: hsl(var(--foreground));
}

.dark .prose code,
.dark .markdown-content code {
  background-color: hsl(var(--muted));
  color: hsl(var(--primary));
}

.dark .prose blockquote,
.dark .markdown-content blockquote {
  border-left-color: hsl(var(--primary));
  color: hsl(var(--muted-foreground));
}

.dark .prose a,
.dark .markdown-content a {
  color: hsl(var(--primary));
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4,
.dark .prose h5,
.dark .prose h6,
.dark .markdown-content h1,
.dark .markdown-content h2,
.dark .markdown-content h3,
.dark .markdown-content h4,
.dark .markdown-content h5,
.dark .markdown-content h6 {
  color: hsl(var(--foreground));
}
